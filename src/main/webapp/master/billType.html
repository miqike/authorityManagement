<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>票据类型列表</title>
    <!--<link href="../css/content.css" rel="stylesheet"/>-->
    <link href="../css/themes/metro/easyui.css" rel="stylesheet"/>
    <link href="../css/themes/icon.css" rel="stylesheet"/>

    <script type="text/javascript" src="../js/jquery.min.js"></script>
    <script type="text/javascript" src="../js/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="../js/jquery.nicescroll.min.js"></script>
    <script type="text/javascript" src="../js/husky.easyui.extend.js"></script>

    <script type="text/javascript" src="../js/husky.common.js"></script>
    <script type="text/javascript" src="../js/husky.easyui.codeList.js"></script>
    <script type="text/javascript" src="../js/underscore-min-1.8.3.js"></script>
    <script type="text/javascript" src="./billType.js"></script>
</head>
<body>
<div id="panel" class="easyui-panel" title="票据类型列表" style="padding-left:5px">
    <div style="margin-bottom:3px;margin-top:5px;">
        <span style="margin-left:8px;margin-right:0px;">名称:</span>
        <input id="f_name" style="margin-left:5px;margin-right:10px; padding-right: 3px;"/>

        <span style="width:300px;">
			<a href="javascript:void(0);" id="btnSearch" class="easyui-linkbutton" plain="true"
               iconCls="icon-search">查找</a>
			<a href="javascript:void(0);" id="btnReset" class="easyui-linkbutton" plain="true"
               iconCls="icon2 r3_c10">重置</a>
			</span>
    </div>

    <table id="mainGrid"
           class="easyui-datagrid"
           data-options="singleSelect:true,collapsible:true,onClickRow:mainGridButtonHandler,
				method:'get',
				url:'../common/query?mapper=billTypeMapper&queryName=queryBillType'"
           toolbar="#mainGridToolbar"
           style="height: 500px"
           pageSize="20"
           pagination="true">
        <thead>
        <tr>
            <th data-options="field:'billTypeId',halign:'center',align:'center'" sortable="true" width="70">ID</th>
            <th data-options="field:'billTypeName',halign:'center',align:'left'" sortable="true" width="170">名称</th>
            <th data-options="field:'quotaFlag',halign:'center',align:'center'" sortable="true" width="50" codeName="yesno" formatter="formatCodeList">定额</th>
            <th data-options="field:'billMoney',halign:'center',align:'center'" sortable="true" width="100">票面金额</th>
            <th data-options="field:'handInType',halign:'center',align:'center'" sortable="true" width="100" codeName="jxlx" formatter="formatCodeList">缴销类型</th>
            <th data-options="field:'folio',halign:'center',align:'center'" sortable="true" width="70">张数/本</th>
            <th data-options="field:'statisticsType',halign:'center',align:'left'" sortable="true" width="100" codeName="tjlb" formatter="formatCodeList">统计类别</th>
            <th data-options="field:'billCode',halign:'center',align:'center'" sortable="true" width="70">票据编码</th>
            <th data-options="field:'warehousingType',halign:'center',align:'center'" sortable="true" width="100" codeName="rklb" formatter="formatCodeList">入库类别</th>
        </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    <div id="mainGridToolbar">
        <a href="#" id="btnAdd" class="easyui-linkbutton" iconCls="icon-add" plain="true">新增</a>
        <a href="#" id="btnView" class="easyui-linkbutton" iconCls="icon-edit" plain="true" disabled="true">编辑/查看</a>
    </div>
</div>

<!-- --------弹出窗口--------------- -->

<div id="popedWindow" class="easyui-window" title="票据类型信息"
     data-options="modal:true,closed:true,iconCls:'icon-search'"
     style="width: 750px; height: 550px; padding: 10px;">

    <div id="tabPanel" class="easyui-tabs" style="width:700px;clear:both;" data-options="onSelect:tabSelectHandler">
        <div title="基本信息" style="padding:5px;" selected="true">
            <form id="funForm">
            <table width="100%" id="viewFundTable">
                <tr>
                    <td colspan="2">
                        <a href="javascript:void(0);" id="btnEditOrSave" class="easyui-linkbutton" iconCls="icon-edit"  plain="true">编辑</a>
                    </td>
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td>名称</td>
                    <td ><input class="easyui-textbox" name="billTypeName" type="text"
                               data-options="required:true,readonly:true,disabled:true" style="width:200px;"/>
                    </td>
                    <td>票据编码</td>
                    <td>
                        <!-- <select class="codelist" id="p_gender" codeName="gender" ></select> -->
                        <input name="billCode" class="easyui-textbox" style="width:200px;" data-options="required:true,readonly:true,disabled:true" />
                    </td>
                </tr>
                <tr>
                    <td>定额</td>
                    <td><input class="easyui-combobox" codeName="yesno" name="quotaFlag" data-options="required:true,readonly:true,disabled:true" style="width:200px;"/>
                    </td>
                    <td>票面金额</td>
                    <td><input class="easyui-textbox" type="text" name="billMoney" data-options="required:true,readonly:true,disabled:true" style="width:200px;"/>
                    </td>
                </tr>
                <tr>
                    <td>缴销类型</td>
                    <td>
                        <input class="easyui-combobox" codeName="jxlx" name="handInType" style="width:200px;" data-options="readonly:true,disabled:true"/>
                    </td>
                    <td>张数/本</td>
                    <td><input class="easyui-textbox" validType="folio" name="email" type="text" style="width:200px;" data-options="readonly:true,disabled:true"/></td>
                </tr>
                <tr>
                    <td>统计类别</td>
                    <td><input class="easyui-combobox" codeName="tjlb" name="statisticsType" data-options="required:true,readonly:true,disabled:true,"/></td>
                    <td>入库类别</td>
                    <td><input class="easyui-combobox" codeName="rklb" name="warehousingType" data-options="required:true,readonly:true,disabled:true" style="width:200px;"/></td>
                </tr>
            </table>
            </form>
        </div>
        <div title="TODO 关联收费项目" style="width:700px;padding:5px;">
            <table id="tg" class="easyui-treegrid" style="width:900px;height:550px"
                   data-options="
                checkOnSelect:false,
				selectOnCheck:false,
                deepCascadeCheck : true,
				rownumbers: false,
				animate: true,
				singleSelect:true,
				collapsible: false,
				fitColumns: true,
				method: 'get',
				idField: 'id',
				treeField: 'name',
				showFooter: true,
				toolbar:'#tgToolbar'
			">
                <thead>
                <tr>
                    <th data-options="field:'id',halign:'center',align:'left',checkbox:true" width="50">ID</th>
                    <!--<th data-options="field:'name',halign:'center',align:'left',editor:'textbox',formatter:formatA" width="250">资源名</th>-->
                    <th data-options="field:'name',halign:'center',align:'left',editor:'textbox'" width="250">资源名</th>
                    <th data-options="field:'identity',halign:'center',align:'center',editor:'textbox'" width="150">标识</th>
                    <th data-options="field:'url',halign:'center',align:'left',editor:'textbox'" width="150">URL</th>
                    <th data-options="field:'icon',halign:'center',align:'center',editor:'textbox'" width="150">图标</th>
                </tr>
                </thead>
            </table>
        </div>
        <div title="TODO 关联用票单位" style="width:700px;padding:5px;">
            <table id="grid2"
                   class="easyui-datagrid"
                   data-options="
                       singleSelect:true,
                       collapsible:true,
                       selectOnCheck:false,
                       checkOnSelect:false"
                   toolbar="#grid2Toolbar"
                   style="height: 340px">
                <thead>
                <tr>
                    <th data-options="field:'ck',checkbox:true,disabled:true"></th>
                    <th data-options="field:'id'" hidden="true" halign="center" align="left" width="0">主键</th>
                    <th data-options="field:'name'" halign="center" align="center" width="100">角色名</th>
                    <th data-options="field:'role'" halign="center" align="left" width="100">标识</th>
                    <th data-options="field:'description'" halign="center" align="left" width="400">描述</th>
                </tr>
                </thead>
            </table>
        </div>


        <div id="grid2Toolbar">
            <!--<a href="#" id="btnEditOrSaveUserRole" class="easyui-linkbutton" iconCls="icon-edit" plain="true">编辑</a>-->
        </div>
    </div>
</div>


<!-- 选择单位弹出层 -->
<div id="organizationSelectDialog" class="easyui-dialog" title="选择单位"
     style="clear: both; width: 600px; height: 400px;"
     data-options="iconCls:'icon-edit',modal:true,closed:true">
    <div id="" style=" display: inline-block; position: relative;padding:5px 10px">


        <table id="organizationTreegrid" class="easyui-treegrid" title="组织机构" style="width:400px;height:350px"
               data-options="
				rownumbers: true,
				animate: true,
				collapsible: false,
				fitColumns: true,
				method: 'get',
				idField: 'id',
				treeField: 'name',
				showFooter: true,
				toolbar:'#tgToolbar'
			">
            <thead>
            <tr>
                <th data-options="field:'name',halign:'center',align:'left',editor:'textbox'" width="240">组织单元名</th>
                <!--<th data-options="field:'id',halign:'center',align:'left',editor:'textbox'" width="150">ID</th>-->
                <!--<th data-options="field:'identity',halign:'center',align:'center',editor:'textbox'" width="150">类型</th>-->
                <!--<th data-options="field:'icon',halign:'center',align:'center',editor:'textbox'" width="150">图标</th>-->
            </tr>
            </thead>
        </table>
    </div>
    <div id="tgToolbar">
        <!--<a href="#" id="btnOrganizationSelect" class="easyui-linkbutton" iconCls="icon-ok" plain="true" disabled="true">确定</a>-->
    </div>
</div>

</body>
</html>